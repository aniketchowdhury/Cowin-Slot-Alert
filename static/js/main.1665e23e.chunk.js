(this.webpackJsonpcowinslots=this.webpackJsonpcowinslots||[]).push([[0],{76:function(e,t,n){},78:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),i=n.n(r),s=(n(76),n(16)),o=n.n(s),l=n(22),u=n(17),d=(n(78),n(117)),p=n(120),j=n(122),h=n(123),b=n(124),f=n(125),x=n(126),O=n(127),v=n(128),m=n(136),g=n(129),y=n(130),w=n(131),S=n(137),k=n(132),C=n(138),E=n(134),N=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET"},e.next=3,fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states",t);case 3:if(!(n=e.sent).ok){e.next=6;break}return e.abrupt("return",n.json().then((function(e){return e.states})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},a="https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+t,e.next=4,fetch(a,n);case 4:if(!(c=e.sent).ok){e.next=7;break}return e.abrupt("return",c.json().then((function(e){return e.districts})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET"},c="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id="+t+"&date="+n,e.next=4,fetch(c,a);case 4:if(!(r=e.sent).ok){e.next=7;break}return e.abrupt("return",r.json().then((function(e){return e.centers})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",a={mobile:t},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},"https://cdn-api.co-vin.in/api/v2/auth/public/generateOTP",e.next=6,fetch("https://cdn-api.co-vin.in/api/v2/auth/public/generateOTP",c);case 6:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json().then((function(e){console.log("OTP FETCH",e),n=e.txnId})));case 9:console.log(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=n(57),P=n.n(_),A=n(28),z=n(64),I=n.n(z),M=n(63),B=n.n(M),J=n(135),Y=n(6),G=Object(d.a)((function(e){return{root:{margin:e.spacing(1),top:"50px",display:"flex",flexDirection:"row",minWidth:"fit-content"},selectStyle:{width:"300px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"50px",height:"85vh"},colorCorrectAnswer:{backgroundColor:"#92F7BA",padding:"15px",borderRadius:"7px",color:"#474747"}}}));var L=function(){var e=G(),t=new Audio("https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3"),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),_=d[0],z=d[1],M=Object(a.useState)(0),L=Object(u.a)(M,2),q=L[0],H=L[1],W=Object(a.useState)(0),R=Object(u.a)(W,2),V=R[0],K=R[1],Q=Object(a.useState)([]),U=Object(u.a)(Q,2),X=U[0],Z=U[1],$=Object(a.useState)([]),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),ce=Object(u.a)(ae,2),re=ce[0],ie=ce[1],se=Object(a.useState)(""),oe=Object(u.a)(se,2),le=oe[0],ue=oe[1],de=Object(a.useState)(!0),pe=Object(u.a)(de,2),je=pe[0],he=pe[1],be=Object(a.useState)(!0),fe=Object(u.a)(be,2),xe=fe[0],Oe=fe[1],ve=Object(a.useState)(!1),me=Object(u.a)(ve,2),ge=me[0],ye=me[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,Z(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.title="Cowin Slot Alert",function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:n=e.sent,ne(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(q)}),[q]);var we=function(){var e,n=[];if(re.forEach((function(t){t.sessions.forEach((function(a){var c=A.a.isEqual(le,"dose1")?a.available_capacity_dose1:a.available_capacity_dose2;if(c>0){e=t.name;var r={openSlots:0,centerName:"",slotDate:"",vaccine:"",pincode:""};r.openSlots=c,r.centerName=e,r.slotDate=a.date,r.vaccine=a.vaccine,r.pincode=t.pincode,n.push(r)}}))})),A.a.isEmpty(n))return Object(Y.jsxs)("div",{style:{display:"flex",marginTop:"100px"},children:[Object(Y.jsx)(B.a,{fontSize:"medium",style:{width:"4.5rem",height:"2.5rem",color:"crimson"}}),Object(Y.jsx)(v.a,{variant:"h4",children:"No Slots Found"})]});xe&&t.play();var a="";return n.forEach((function(e){return a=a+JSON.stringify(e)+"\n"})),ge&&function(e){A.a.isEqual(ge,!0)&&(window.open("https://api.whatsapp.com/send?text="+e),ye(!1))}(a),Object(Y.jsx)(p.a,{component:j.a,style:{width:"80vw",height:"auto",opacity:"0.87",overflow:"auto"},children:Object(Y.jsxs)(h.a,{size:"medium",stickyHeader:!0,"aria-label":"sticky table",children:[Object(Y.jsx)(b.a,{children:Object(Y.jsxs)(f.a,{children:[Object(Y.jsx)(x.a,{children:"Center Name"}),Object(Y.jsx)(x.a,{align:"left",children:"Pin Code\xa0"}),Object(Y.jsx)(x.a,{align:"left",children:"Open Slots"}),Object(Y.jsx)(x.a,{align:"left",children:"Slot Dates\xa0"}),Object(Y.jsx)(x.a,{align:"left",children:"Vaccine\xa0"})]})}),Object(Y.jsx)(O.a,{children:n.map((function(e,t){return Object(Y.jsxs)(f.a,{children:[Object(Y.jsx)(x.a,{children:e.centerName}),Object(Y.jsx)(x.a,{children:e.pincode}),Object(Y.jsx)(x.a,{children:e.openSlots}),Object(Y.jsx)(x.a,{children:e.slotDate}),Object(Y.jsx)(x.a,{children:e.vaccine})]},t.toString())}))})]})})};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t,n);case 2:a=e.sent,ie(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=P()().format("DD-MM-YYYY");e(V,t);var n=setInterval((function(){return e(V,t)}),15e3);return function(){clearInterval(n)}}),[V]);var Se=function(e){Oe(e.target.checked)},ke=function(){D(9674009430)},Ce=function(){ye(!0)};return Object(Y.jsxs)("div",{className:"App",children:[Object(Y.jsxs)("div",{className:e.wrapper,children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(v.a,{variant:"h3",children:"Cowin Slot Finder"})}),Object(Y.jsxs)("div",{style:{display:"flex",width:"80vw",height:"auto",justifyContent:"space-around",flexWrap:"wrap"},children:[Object(Y.jsx)(w.a,{variant:"outlined",className:e.root,children:X&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(S.a,{style:{top:"-6px"},children:"Select your state"}),Object(Y.jsx)(k.a,{variant:"outlined",className:e.selectStyle,value:r,onChange:function(e){i(e.target.value);var t=X.find((function(t){return t.state_name===e.target.value})).state_id;H(t)},MenuProps:{style:{top:"50px",height:"350px"}},children:X.map((function(e,t){return Object(Y.jsx)(C.a,{value:e.state_name,children:e.state_name},t.toString())}))})]})}),Object(Y.jsx)(w.a,{variant:"outlined",className:e.root,disabled:!!A.a.isEmpty(te),children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(S.a,{style:{top:"-6px"},children:"Select your district"}),Object(Y.jsx)(k.a,{variant:"outlined",className:e.selectStyle,value:_,onChange:function(e){z(e.target.value);var t=te.find((function(t){return t.district_name===e.target.value})).district_id;K(t),we()},MenuProps:{style:{top:"50px",height:"350px"}},children:te.map((function(e,t){return Object(Y.jsx)(C.a,{value:e.district_name,children:e.district_name},t.toString())}))})]})}),Object(Y.jsx)(w.a,{variant:"outlined",className:e.root,disabled:!!A.a.isEmpty(te),children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(S.a,{style:{top:"-6px"},children:"Select your dose"}),Object(Y.jsxs)(k.a,{variant:"outlined",className:e.selectStyle,value:le,onChange:function(e){ue(e.target.value)},MenuProps:{style:{top:"50px",height:"350px"}},children:[Object(Y.jsx)(C.a,{value:"dose1",children:"DOSE 1"}),Object(Y.jsx)(C.a,{value:"dose2",children:"DOSE 2"})]})]})})]}),A.a.isEmpty(re)||A.a.isEmpty(le)?null:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{style:{marginTop:"55px",display:"flex"},children:[Object(Y.jsx)(m.a,{value:"true",color:"primary","data-testid":"toggleFilmStrip",size:"medium",checked:xe,onClick:Se}),Object(Y.jsx)(v.a,{variant:"subtitle1",style:{paddingTop:"7px"},children:xe?"Switch Audio OFF":"Switch Audio ON"}),Object(Y.jsx)(g.a,{onClick:Ce,style:{width:"50px",height:"50px",paddingBottom:"19px"},children:Object(Y.jsx)(J.a,{})}),Object(Y.jsx)(y.a,{variant:"primary",onClick:ke,style:{display:"none"},children:"DownLoad Certificate"})]})," ",we()]})]}),Object(Y.jsx)(E.a,{open:je,anchorOrigin:{vertical:"bottom",horizontal:"center"},message:"Data is polled every 30 seconds",action:Object(Y.jsx)(g.a,{color:"inherit",size:"small",onClick:function(){he(!1)},children:Object(Y.jsx)(I.a,{fontSize:"small"})})})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(Y.jsx)(c.a.StrictMode,{children:Object(Y.jsx)(L,{})}),document.getElementById("root")),q()}},[[87,1,2]]]);
//# sourceMappingURL=main.1665e23e.chunk.js.map