(this.webpackJsonpcowinslots=this.webpackJsonpcowinslots||[]).push([[0],{75:function(e,t,n){},77:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),s=(n(75),n(16)),o=n.n(s),l=n(27),u=n(17),d=(n(77),n(116)),j=n(119),p=n(121),h=n(122),b=n(123),f=n(124),x=n(125),O=n(126),v=n(127),m=n(133),g=n(129),y=n(134),S=n(130),w=n(135),k=n(132),E=n(128),C=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET"},e.next=3,fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states",t);case 3:if(!(n=e.sent).ok){e.next=6;break}return e.abrupt("return",n.json().then((function(e){return console.log(e.states),e.states})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},a="https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+t,e.next=4,fetch(a,n);case 4:if(!(c=e.sent).ok){e.next=7;break}return e.abrupt("return",c.json().then((function(e){return console.log(e.districts),e.districts})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET"},c="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id="+t+"&date="+n,e.next=4,fetch(c,a);case 4:if(!(r=e.sent).ok){e.next=7;break}return e.abrupt("return",r.json().then((function(e){return e.centers})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=n(56),_=n.n(D),T=n(43),A=n(63),z=n.n(A),M=n(62),P=n.n(M),I=n(6),Y=Object(d.a)((function(e){return{root:{margin:e.spacing(1),top:"50px",display:"flex",flexDirection:"row",minWidth:"fit-content"},selectStyle:{width:"300px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"50px",height:"85vh"},colorCorrectAnswer:{backgroundColor:"#92F7BA",padding:"15px",borderRadius:"7px",color:"#474747"}}}));var B=function(){var e=Y(),t=new Audio("https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3"),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),D=d[0],A=d[1],M=Object(a.useState)(0),B=Object(u.a)(M,2),G=B[0],J=B[1],L=Object(a.useState)(0),q=Object(u.a)(L,2),H=q[0],R=q[1],V=Object(a.useState)([]),W=Object(u.a)(V,2),K=W[0],Q=W[1],U=Object(a.useState)([]),X=Object(u.a)(U,2),Z=X[0],$=X[1],ee=Object(a.useState)([]),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(""),re=Object(u.a)(ce,2),ie=re[0],se=re[1],oe=Object(a.useState)(!0),le=Object(u.a)(oe,2),ue=le[0],de=le[1],je=Object(a.useState)(!0),pe=Object(u.a)(je,2),he=pe[0],be=pe[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,Q(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.title="Cowin Slot Alert",function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:n=e.sent,$(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(G)}),[G]);var fe=function(){var e,n=[];return ne.forEach((function(t){t.sessions.forEach((function(a){var c=T.a.isEqual(ie,"dose1")?a.available_capacity_dose1:a.available_capacity_dose2;if(c>0){e=t.name;var r={openSlots:0,centerName:"",slotDate:"",vaccine:"",pincode:""};r.openSlots=c,r.centerName=e,r.slotDate=a.date,r.vaccine=a.vaccine,r.pincode=t.pincode,n.push(r)}}))})),T.a.isEmpty(n)?Object(I.jsxs)("div",{style:{display:"flex",marginTop:"100px"},children:[Object(I.jsx)(P.a,{fontSize:"medium",style:{width:"4.5rem",height:"2.5rem",color:"crimson"}}),Object(I.jsx)(v.a,{variant:"h4",children:"No Slots Found"})]}):(he&&t.play(),Object(I.jsx)(j.a,{component:p.a,style:{width:"680px",height:"400px",opacity:"0.87",overflowY:"auto"},children:Object(I.jsxs)(h.a,{size:"medium",stickyHeader:!0,"aria-label":"sticky table",children:[Object(I.jsx)(b.a,{children:Object(I.jsxs)(f.a,{children:[Object(I.jsx)(x.a,{children:"Center Name"}),Object(I.jsx)(x.a,{align:"left",children:"Pin Code\xa0"}),Object(I.jsx)(x.a,{align:"left",children:"Open Slots"}),Object(I.jsx)(x.a,{align:"left",children:"Slot Dates\xa0"}),Object(I.jsx)(x.a,{align:"left",children:"Vaccine\xa0"})]})}),Object(I.jsx)(O.a,{children:n.map((function(e,t){return Object(I.jsxs)(f.a,{children:[Object(I.jsx)(x.a,{children:e.centerName}),Object(I.jsx)(x.a,{children:e.pincode}),Object(I.jsx)(x.a,{children:e.openSlots}),Object(I.jsx)(x.a,{children:e.slotDate}),Object(I.jsx)(x.a,{children:e.vaccine})]},t.toString())}))})]})}))};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,n);case 2:a=e.sent,ae(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=_()().format("DD-MM-YYYY");e(H,t);var n=setInterval((function(){return e(H,t)}),15e3);return function(){clearInterval(n)}}),[H]);var xe=function(e){be(e.target.checked)};return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsxs)("div",{className:e.wrapper,children:[Object(I.jsx)("div",{children:Object(I.jsx)(v.a,{variant:"h3",children:"Cowin Slot Finder"})}),Object(I.jsxs)("div",{style:{display:"flex"},children:[Object(I.jsx)(g.a,{variant:"outlined",className:e.root,children:K&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(y.a,{style:{top:"-6px"},children:"Select your state"}),Object(I.jsx)(S.a,{variant:"outlined",className:e.selectStyle,value:r,onChange:function(e){i(e.target.value);var t=K.find((function(t){return t.state_name===e.target.value})).state_id;J(t)},MenuProps:{style:{top:"50px",height:"350px"}},children:K.map((function(e,t){return Object(I.jsx)(w.a,{value:e.state_name,children:e.state_name},t.toString())}))})]})}),Object(I.jsx)(g.a,{variant:"outlined",className:e.root,children:r&&Z&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(y.a,{style:{top:"-6px"},children:"Select your district"}),Object(I.jsx)(S.a,{variant:"outlined",className:e.selectStyle,value:D,onChange:function(e){A(e.target.value);var t=Z.find((function(t){return t.district_name===e.target.value})).district_id;R(t),fe()},MenuProps:{style:{top:"50px",height:"350px"}},children:Z.map((function(e,t){return Object(I.jsx)(w.a,{value:e.district_name,children:e.district_name},t.toString())}))})]})}),Object(I.jsx)(g.a,{variant:"outlined",className:e.root,children:r&&Z&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(y.a,{style:{top:"-6px"},children:"Select your dose"}),Object(I.jsxs)(S.a,{variant:"outlined",className:e.selectStyle,value:ie,onChange:function(e){se(e.target.value)},MenuProps:{style:{top:"50px",height:"350px"}},children:[Object(I.jsx)(w.a,{value:"dose1",children:"DOSE 1"}),Object(I.jsx)(w.a,{value:"dose2",children:"DOSE 2"})]})]})})]}),T.a.isEmpty(ne)||T.a.isEmpty(ie)?null:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{style:{marginTop:"55px",display:"flex"},children:[Object(I.jsx)(m.a,{value:"true",color:"primary","data-testid":"toggleFilmStrip",size:"medium",checked:he,onClick:xe}),Object(I.jsx)(v.a,{style:{paddingTop:"7px"},children:he?"Switch Audio OFF":"Switch Audio ON"})]})," ",fe()]})]}),Object(I.jsx)(k.a,{open:ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},message:"Data is polled every 30 seconds",action:Object(I.jsx)(E.a,{color:"inherit",size:"small",onClick:function(){de(!1)},children:Object(I.jsx)(z.a,{fontSize:"small"})})})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(B,{})}),document.getElementById("root")),G()}},[[86,1,2]]]);
//# sourceMappingURL=main.7c43e070.chunk.js.map