(this.webpackJsonpcowinslots=this.webpackJsonpcowinslots||[]).push([[0],{76:function(e,t,n){},78:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(12),r=n.n(i),s=(n(76),n(16)),o=n.n(s),l=n(22),u=n(17),d=(n(78),n(117)),p=n(120),j=n(122),h=n(123),b=n(124),f=n(125),x=n(126),O=n(127),v=n(128),m=n(136),g=n(129),y=n(130),w=n(131),S=n(137),k=n(132),C=n(138),E=n(134),N=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET"},e.next=3,fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states",t);case 3:if(!(n=e.sent).ok){e.next=6;break}return e.abrupt("return",n.json().then((function(e){return e.states})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},a="https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+t,e.next=4,fetch(a,n);case 4:if(!(c=e.sent).ok){e.next=7;break}return e.abrupt("return",c.json().then((function(e){return e.districts})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET"},c="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id="+t+"&date="+n,e.next=4,fetch(c,a);case 4:if(!(i=e.sent).ok){e.next=7;break}return e.abrupt("return",i.json().then((function(e){return e.centers})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=n(57),T=n.n(_),A=n(28),P=n(64),z=n.n(P),M=n(63),B=n.n(M),I=n(135),Y=n(6),G=Object(d.a)((function(e){return{root:{margin:e.spacing(1),top:"50px",display:"flex",flexDirection:"row",minWidth:"fit-content"},selectStyle:{width:"300px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"50px",height:"85vh"},colorCorrectAnswer:{backgroundColor:"#92F7BA",padding:"15px",borderRadius:"7px",color:"#474747"}}}));var L=function(){var e=G(),t=new Audio("https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3"),n=Object(a.useState)(""),c=Object(u.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),_=d[0],P=d[1],M=Object(a.useState)(0),L=Object(u.a)(M,2),q=L[0],J=L[1],V=Object(a.useState)(0),W=Object(u.a)(V,2),H=W[0],R=W[1],K=Object(a.useState)([]),Q=Object(u.a)(K,2),U=Q[0],X=Q[1],Z=Object(a.useState)([]),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)([]),ae=Object(u.a)(ne,2),ce=ae[0],ie=ae[1],re=Object(a.useState)(""),se=Object(u.a)(re,2),oe=se[0],le=se[1],ue=Object(a.useState)(!0),de=Object(u.a)(ue,2),pe=de[0],je=de[1],he=Object(a.useState)(!0),be=Object(u.a)(he,2),fe=be[0],xe=be[1],Oe=Object(a.useState)(!1),ve=Object(u.a)(Oe,2),me=ve[0],ge=ve[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,X(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.title="Cowin Slot Alert",function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:n=e.sent,te(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(q)}),[q]);var ye=function(){var e,n,a=[],c="";return ce.forEach((function(t){t.sessions.forEach((function(n){var i=A.a.isEqual(oe,"dose1")?n.available_capacity_dose1:n.available_capacity_dose2;if(i>0){e=t.name;var r={openSlots:0,centerName:"",slotDate:"",vaccine:"",pincode:""};r.openSlots=i,r.centerName=e,r.slotDate=n.date,r.vaccine=n.vaccine,r.pincode=t.pincode,c+="\nCenter Name:"+e+"  Slots: "+i+"  Date: "+n.date+"  Vaccine Name: "+n.vaccine+"  Pincode: "+t.pincode+"%0a%0a",a.push(r)}}))})),A.a.isEmpty(a)?Object(Y.jsxs)("div",{style:{display:"flex",marginTop:"100px"},children:[Object(Y.jsx)(B.a,{fontSize:"medium",style:{width:"4.5rem",height:"2.5rem",color:"crimson"}}),Object(Y.jsx)(v.a,{variant:"h4",children:"No Slots Found"})]}):(fe&&t.play(),me&&(n=c,A.a.isEqual(me,!0)&&(window.open("https://api.whatsapp.com/send?text="+n),ge(!1))),Object(Y.jsx)(p.a,{component:j.a,style:{width:"80vw",height:"auto",opacity:"0.87",overflow:"auto"},children:Object(Y.jsxs)(h.a,{size:"medium",stickyHeader:!0,"aria-label":"sticky table",children:[Object(Y.jsx)(b.a,{children:Object(Y.jsxs)(f.a,{children:[Object(Y.jsx)(x.a,{children:"Center Name"}),Object(Y.jsx)(x.a,{align:"left",children:"Pin Code\xa0"}),Object(Y.jsx)(x.a,{align:"left",children:"Open Slots"}),Object(Y.jsx)(x.a,{align:"left",children:"Slot Dates\xa0"}),Object(Y.jsx)(x.a,{align:"left",children:"Vaccine\xa0"})]})}),Object(Y.jsx)(O.a,{children:a.map((function(e,t){return Object(Y.jsxs)(f.a,{children:[Object(Y.jsx)(x.a,{children:e.centerName}),Object(Y.jsx)(x.a,{children:e.pincode}),Object(Y.jsx)(x.a,{children:e.openSlots}),Object(Y.jsx)(x.a,{children:e.slotDate}),Object(Y.jsx)(x.a,{children:e.vaccine})]},t.toString())}))})]})}))};Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n);case 2:a=e.sent,ie(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=T()().format("DD-MM-YYYY");e(H,t);var n=setInterval((function(){return e(H,t)}),15e3);return function(){clearInterval(n)}}),[H]);var we=function(e){xe(e.target.checked)},Se=function(e){},ke=function(){ge(!0)};return Object(Y.jsxs)("div",{className:"App",children:[Object(Y.jsxs)("div",{className:e.wrapper,children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(v.a,{variant:"h3",children:"Cowin Slot Finder"})}),Object(Y.jsxs)("div",{style:{display:"flex",width:"80vw",height:"auto",justifyContent:"space-around",flexWrap:"wrap"},children:[Object(Y.jsx)(w.a,{variant:"outlined",className:e.root,children:U&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(S.a,{style:{top:"-6px"},children:"Select your state"}),Object(Y.jsx)(k.a,{variant:"outlined",className:e.selectStyle,value:i,onChange:function(e){r(e.target.value);var t=U.find((function(t){return t.state_name===e.target.value})).state_id;J(t)},MenuProps:{style:{top:"50px",height:"350px"}},children:U.map((function(e,t){return Object(Y.jsx)(C.a,{value:e.state_name,children:e.state_name},t.toString())}))})]})}),Object(Y.jsx)(w.a,{variant:"outlined",className:e.root,disabled:!!A.a.isEmpty(ee),children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(S.a,{style:{top:"-6px"},children:"Select your district"}),Object(Y.jsx)(k.a,{variant:"outlined",className:e.selectStyle,value:_,onChange:function(e){P(e.target.value);var t=ee.find((function(t){return t.district_name===e.target.value})).district_id;R(t),ye()},MenuProps:{style:{top:"50px",height:"350px"}},children:ee.map((function(e,t){return Object(Y.jsx)(C.a,{value:e.district_name,children:e.district_name},t.toString())}))})]})}),Object(Y.jsx)(w.a,{variant:"outlined",className:e.root,disabled:!!A.a.isEmpty(ee),children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(S.a,{style:{top:"-6px"},children:"Select your dose"}),Object(Y.jsxs)(k.a,{variant:"outlined",className:e.selectStyle,value:oe,onChange:function(e){le(e.target.value)},MenuProps:{style:{top:"50px",height:"350px"}},children:[Object(Y.jsx)(C.a,{value:"dose1",children:"DOSE 1"}),Object(Y.jsx)(C.a,{value:"dose2",children:"DOSE 2"})]})]})})]}),A.a.isEmpty(ce)||A.a.isEmpty(oe)?null:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{style:{marginTop:"55px",display:"flex"},children:[Object(Y.jsx)(m.a,{value:"true",color:"primary","data-testid":"toggleFilmStrip",size:"medium",checked:fe,onClick:we}),Object(Y.jsx)(v.a,{variant:"subtitle1",style:{paddingTop:"7px"},children:fe?"Switch Audio OFF":"Switch Audio ON"}),Object(Y.jsx)(g.a,{onClick:ke,style:{width:"50px",height:"50px",paddingBottom:"19px"},children:Object(Y.jsx)(I.a,{})}),Object(Y.jsx)(y.a,{variant:"primary",onClick:Se,style:{display:"none"},children:"DownLoad Certificate"})]})," ",ye()]})]}),Object(Y.jsx)(E.a,{open:pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},message:"Data is polled every 30 seconds",action:Object(Y.jsx)(g.a,{color:"inherit",size:"small",onClick:function(){je(!1)},children:Object(Y.jsx)(z.a,{fontSize:"small"})})})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(Y.jsx)(c.a.StrictMode,{children:Object(Y.jsx)(L,{})}),document.getElementById("root")),q()}},[[87,1,2]]]);
//# sourceMappingURL=main.53aa91ce.chunk.js.map