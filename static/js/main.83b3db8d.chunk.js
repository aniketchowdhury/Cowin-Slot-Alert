(this.webpackJsonpcowinslots=this.webpackJsonpcowinslots||[]).push([[0],{75:function(e,t,n){},77:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),s=(n(75),n(16)),o=n.n(s),l=n(26),u=n(20),p=(n(77),n(115)),j=n(118),d=n(120),h=n(121),f=n(122),b=n(123),x=n(124),O=n(125),v=n(126),m=n(127),g=n(132),y=n(129),S=n(133),w=n(131),k=n(128),E=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET"},e.next=3,fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states",t);case 3:if(!(n=e.sent).ok){e.next=6;break}return e.abrupt("return",n.json().then((function(e){return console.log(e.states),e.states})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},a="https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+t,e.next=4,fetch(a,n);case 4:if(!(c=e.sent).ok){e.next=7;break}return e.abrupt("return",c.json().then((function(e){return console.log(e.districts),e.districts})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET"},c="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id="+t+"&date="+n,e.next=4,fetch(c,a);case 4:if(!(r=e.sent).ok){e.next=7;break}return e.abrupt("return",r.json().then((function(e){return console.log(e.centers),e.centers})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=n(56),C=n.n(_),F=n(42),T=n(63),M=n.n(T),z=n(62),I=n.n(z),P=n(6),Y=Object(p.a)((function(e){return{root:{margin:e.spacing(1),top:"50px",display:"flex",flexDirection:"row",minWidth:"fit-content"},selectStyle:{width:"300px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"50px",height:"85vh"},colorCorrectAnswer:{backgroundColor:"#92F7BA",padding:"15px",borderRadius:"7px",color:"#474747"}}}));var A=function(){var e=Y(),t=new Audio("https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3"),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),p=Object(u.a)(s,2),_=p[0],T=p[1],z=Object(a.useState)(0),A=Object(u.a)(z,2),B=A[0],G=A[1],J=Object(a.useState)(0),L=Object(u.a)(J,2),q=L[0],H=L[1],R=Object(a.useState)([]),V=Object(u.a)(R,2),W=V[0],K=V[1],Q=Object(a.useState)([]),U=Object(u.a)(Q,2),X=U[0],Z=U[1],$=Object(a.useState)([]),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),ce=Object(u.a)(ae,2),re=ce[0],ie=ce[1],se=Object(a.useState)(!0),oe=Object(u.a)(se,2),le=oe[0],ue=oe[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,K(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:n=e.sent,Z(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(B)}),[B]);var pe=function(){var e,n=[];return te.forEach((function(t){t.sessions.forEach((function(a){var c=F.a.isEqual(re,"dose1")?a.available_capacity_dose1:a.available_capacity_dose2;if(c>0){e=t.name;var r={openSlots:0,centerName:"",slotDate:"",vaccine:""};r.openSlots=c,r.centerName=e,r.slotDate=a.date,r.vaccine=a.vaccine,n.push(r)}}))})),F.a.isEmpty(n)?Object(P.jsxs)("div",{style:{display:"flex",marginTop:"100px"},children:[Object(P.jsx)(I.a,{fontSize:"medium",style:{width:"4.5rem",height:"2.5rem",color:"crimson"}}),Object(P.jsx)(v.a,{variant:"h4",children:"No Slots Found"})]}):(t.play(),Object(P.jsx)(j.a,{component:d.a,style:{marginTop:"60px",width:"650px",height:"420px",opacity:"0.87",overflowY:"auto"},children:Object(P.jsxs)(h.a,{size:"medium",stickyHeader:!0,"aria-label":"sticky table",children:[Object(P.jsx)(f.a,{children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(x.a,{children:"Center Name"}),Object(P.jsx)(x.a,{align:"left",children:"Open Slots"}),Object(P.jsx)(x.a,{align:"left",children:"Slot Dates\xa0"}),Object(P.jsx)(x.a,{align:"left",children:"Vaccine\xa0"})]})}),Object(P.jsx)(O.a,{children:n.map((function(e,t){return Object(P.jsxs)(b.a,{children:[Object(P.jsx)(x.a,{children:e.centerName}),Object(P.jsx)(x.a,{children:e.openSlots}),Object(P.jsx)(x.a,{children:e.slotDate}),Object(P.jsx)(x.a,{children:e.vaccine})]},t.toString())}))})]})}))};return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,n);case 2:a=e.sent,ne(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=C()().format("DD-MM-YYYY");e(q,t);var n=setInterval((function(){return e(q,t)}),6e4);return function(){clearInterval(n)}}),[q]),Object(P.jsxs)("div",{className:"App",children:[Object(P.jsxs)("div",{className:e.wrapper,children:[Object(P.jsx)(v.a,{variant:"h3",children:"Cowin Slot Finder"}),Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)(m.a,{variant:"outlined",className:e.root,children:W&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{style:{top:"-6px"},children:"Select your state"}),Object(P.jsx)(y.a,{variant:"outlined",className:e.selectStyle,value:r,onChange:function(e){i(e.target.value);var t=W.find((function(t){return t.state_name===e.target.value})).state_id;G(t)},MenuProps:{style:{top:"50px",height:"350px"}},children:W.map((function(e,t){return Object(P.jsx)(S.a,{value:e.state_name,children:e.state_name},t.toString())}))})]})}),Object(P.jsx)(m.a,{variant:"outlined",className:e.root,children:r&&X&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{style:{top:"-6px"},children:"Select your district"}),Object(P.jsx)(y.a,{variant:"outlined",className:e.selectStyle,value:_,onChange:function(e){T(e.target.value);var t=X.find((function(t){return t.district_name===e.target.value})).district_id;H(t),pe()},MenuProps:{style:{top:"50px",height:"350px"}},children:X.map((function(e,t){return Object(P.jsx)(S.a,{value:e.district_name,children:e.district_name},t.toString())}))})]})}),Object(P.jsx)(m.a,{variant:"outlined",className:e.root,children:r&&X&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{style:{top:"-6px"},children:"Select your dose"}),Object(P.jsxs)(y.a,{variant:"outlined",className:e.selectStyle,value:re,onChange:function(e){ie(e.target.value)},MenuProps:{style:{top:"50px",height:"350px"}},children:[Object(P.jsx)(S.a,{value:"dose1",children:"DOSE 1"}),Object(P.jsx)(S.a,{value:"dose2",children:"DOSE 2"})]})]})})]}),!F.a.isEmpty(te)&&!F.a.isEmpty(re)&&pe()]}),Object(P.jsx)(w.a,{open:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},message:"Data is refreshed every 1 minute",action:Object(P.jsx)(k.a,{color:"inherit",size:"small",onClick:function(){ue(!1)},children:Object(P.jsx)(M.a,{fontSize:"small"})})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(A,{})}),document.getElementById("root")),B()}},[[86,1,2]]]);
//# sourceMappingURL=main.83b3db8d.chunk.js.map